# ZTE
1、问题重述

发布了一项新任务：小蚁同学，我需要玉米库的玉米，再要配点水果，去帮我找来吧。小蚁正准备出发，蚁后又说：哎呀，回来，我还没说完呢，还有若干要求如下：
1.小蚁同学，你需要尽可能以最少的花费拿到食物（附件图中路线上的数值表示每两个储物间的花费）；
2.小蚁同学，你最多只能经过9个储藏间拿到食物（包含起止两个节点，多次通过同一节点按重复次数计算）；
3.小蚁同学，你必须经过玉米间，水果间（附件图中标绿色节点）；
4.别忘了，食蚁兽也在路上活动呢，一旦与食蚁兽相遇，性命危矣！不过小蚁微信群公告已经公布了敌人信息（附件图中标红色路段）；
5.最后，千万别忘了，还有两段路是必须经过的，那里有我准备的神秘礼物等着你呢(附件图中标绿色路段)。


2. 问题分析
分析问题可得，蚁巢可以抽象为无向图，储藏室为无向图的各个顶点，储藏室之间的路径花费为可以看作无向图顶点之间的距离。题目要求尽可能少的花费拿到食物，也就可以看作为无向图的最短路径问题。必须经过玉米间和水果间，所以最短路径中有两个必经的顶点，还有两端路是必须要经过的，也就是路径上必须包括这两段路。最重要的一点，有食蚁兽的路段是不能经过的。而且最短路径最短经过9个储藏室，即最多经过9个顶点。
要求分析
1、必须经过玉米间和水果间
2、不能经过食蚁兽路径，小命要紧啊
3、经过两条路径拿礼物
4、花费最少
5、鉴于当图较大的时候，9个结点很难实现，所以解题时首先考虑花费最少
最后问题可以描述为，在一个无向图中指定两个结点起始结点和结束结点，在两个结点之间必须经过两个结点（玉米间和水果间），必须经过两条路径（有礼物的路段），尽量满足经过顶点小于等于9个，在满足上面的条件下找出最短路径（最小花费）。


3. 必经结点和路径最短路径问题的算法设计
以下提到的结点（节点）即为图的顶点。
经过分析问题最终可以看成是必经节点和必经路径最短路径问题。基于本次比赛的派系为迪杰斯特拉派，本人打算使用Dijkstra算法，可是传统的最短路径算法只考虑了源点和终点，不能满足如上特殊的要求，所以需要对Dijkstra算法进行改进。
首先介绍一下Dijkstra算法
Dijkstra算法采用贪心策略：按路径长度递增的顺序，逐个产生各顶点的最短路径。算法过程中需要维护一个顶点集S,此顶点集保存已经找到最短路径的顶点。还需要维护一个距离数组dist, dist[i]表示第i个顶点与源结点s的距离长度。
由于Dijkstra只能解决有向图的单元最短路径问题，所以我们可以把本题的无向图看作双向的有向图。

算法1、Dijkstra算法思路：

1、S初始化时只包括源节点s; 
2、dist[]初始化：dist[i]= matrix [s][i], matrix为图的邻接矩阵。
3、V-S表示未被找到最短的路径的顶点集合； 
4、把dist按递增的顺序，选择一个最短路径，从V-S把对应顶点加入到S中，每次S中加入一个新顶点u, 需要对dist更新，即s能否通过顶点u达到其他顶点更近。
 即若dist[u]+matrix[u][v]<dist[v],dist[v]=dist[u]+matrix [u][v]跳转到第三步重复上述步骤，直到S=V

算法2、改进的Dijkstra算法，用于计算必经路径：

1、S初始化时只包括源节点s; 
2、dist[]初始化：dist[i]= matrix [s][i], matrix为图的邻接矩阵。
3、对于回避的路径，即有食蚁兽的路径，可以设置成路径为无穷大
4、以必须经过的点、边和路径(路径仅仅取两端的顶点)的顶点为元素构成集合A；
5、V-S表示未被找到最短的路径的顶点集合； 
6、把dist按递增的顺序，选择一个最短路径，从V-S把对应顶点加入到S中，每次S中加入一个新顶点u, 如果新的顶点为必经路径的其中一个(u’)，那么另一个也加入到S中，并需要对dist更新，即s能否通过顶点u(u’)达到其他顶点更近。
   即若dist[u] + matrix [u][v] <dist[v],dist[v]=dist[u]+ matrix[u][v]跳转到第三步重复上述步骤，直到S=V


算法3、本文对Dijkstra算法进行改进，以完成上述题目的要求：

1、S初始化时只包括源节点s; 定义path用于记录最短路径
2、dist[]初始化：dist[i]= matrix[s][i], matrix为图的邻接矩阵。
 
3、对于回避的路径，即有食蚁兽的路径，可以设置成路径为无穷大
4、以必须经过的点、边和路径(路径仅仅取两端的顶点)的顶点为元素构成集合A；
5、引用算法2，计算A中结点到起始结点的最短路径，选择 ，使得dist[ ] = min{dist[ ]|  A-S}，  ，将路径加入path， 为求得的下一条路径的起点。如果A中的元素中还有未加入path的，继续运行5，如果A中的结点都访问完毕，继续往下执行
6、调用算法1，计算出 到最终目的结点的最短路径，将路径加入path
7、path即为所求的路径。


                    
